<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link
        rel="icon"
        href="data:image/svg+xml,<svg fill='%234fc3f7' height='16px' width='16px' version='1.1' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 490 490'><g><path d='M451.032,367.5v-230L260,15Q252,0 245,0 238,0 230,15L38.968,137.5v230L230,475Q238,490 245,490 252,490 260,475L451.032,367.5z M133.865,175.094L245,115.188l111.136,59.906v129.813 L245,374.813l-111.135-59.906V175.094z' stroke='%234fc3f7' stroke-width='2' stroke-linejoin='round'/><path d='M321.299,282.828 Q321.299,197.172 245,159.343 Q168.701,197.172 168.701,282.828 Q245,320.657 321.299,282.828z' stroke='%234fc3f7' stroke-width='1.5' stroke-linejoin='round'/></g></svg>"
    />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Idea Engine</title>
    <link rel="stylesheet" href="style.css">
    <!-- External library for graph visualization -->
    <link href="https://unpkg.com/vis-network/styles/vis-network.min.css" rel="stylesheet" type="text/css" />
    <!-- Custom fonts for UI theming -->
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700&family=Orbitron:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- The Tutorial Overlay -->
    <div id="tutorial-overlay" class="hidden">
        <div id="tutorial-box">
            <p id="tutorial-text">Welcome to The Idea Engine!</p>
            <div class="tutorial-buttons">
                <button id="tutorial-next-button" class="action-button">Next</button>
                <button id="skip-tutorial-button" class="secondary-button">Skip Tutorial</button>
            </div>
        </div>
    </div>

    <div id="game-container">
        <!-- Left Panel: Displays core resources, actions, and main navigation -->
        <aside id="left-panel">
            <header>
                <h1>The Idea Engine</h1>
            </header>
            <section id="resources-display">
                <h2>Resources</h2>
                <div class="resource-item">
                    <span class="resource-label">Fleeting Thoughts (FT):</span>
                    <span id="ft-count" class="resource-value">0</span>
                </div>
                 <div class="resource-item">
                    <span class="resource-label">FT/sec:</span>
                    <span id="ft-per-sec-count" class="resource-value">0</span>
                </div>
                <div class="resource-item">
                    <span class="resource-label">Wisdom Shards (WS):</span>
                    <span id="ws-count" class="resource-value">0</span>
                </div>
                <div id="active-concepts-summary"></div>
            </section>

            <section id="core-actions">
                <button id="spark-button" class="action-button">
                    <svg fill="#000000" height="20px" width="20px" version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 490 490">
                        <g class="outer-crystal">
                            <path d="M451.032,367.5v-230L260,15Q252,0 245,0 238,0 230,15L38.968,137.5v230L230,475Q238,490 245,490 252,490 260,475L451.032,367.5z M133.865,175.094L245,115.188l111.136,59.906v129.813 L245,374.813l-111.135-59.906V175.094z" stroke="#000000" stroke-width="3" stroke-linejoin="round"/>
                        </g>
                        <g class="inner-crystal">
                            <path d="M321.299,282.828 Q321.299,197.172 245,159.343 Q168.701,197.172 168.701,282.828 Q245,320.657 321.299,282.828z" stroke="#000000" stroke-width="2" stroke-linejoin="round"/>
                        </g>
                    </svg>
                    Spark Fleeting Thought
                </button>
            </section>

            <nav id="main-nav">
                <button class="nav-button active" data-panel="noosphere-panel">Knowsphere</button>
                <button class="nav-button" data-panel="refinement-panel">Base Refinement</button>
                <button class="nav-button" data-panel="synthesis-panel">Synthesis Forge</button>
                <button class="nav-button" data-panel="concepts-panel">Concepts</button>
                <button class="nav-button" data-panel="insights-panel">Insights</button>
                <button class="nav-button" data-panel="theories-panel">Theories</button>
                <button class="nav-button" data-panel="paradigms-panel">Paradigms</button>
                <button class="nav-button" data-panel="transcendence-panel">Transcendence</button>
                <button class="nav-button" data-panel="settings-panel">Settings</button>
            </nav>
            <footer>
                <button id="save-button">Save</button>
                <button id="load-button">Load</button>
                <button id="reset-button">Reset Game</button>
            </footer>
        </aside>

        <!-- Center Panel: Contains all switchable content panels -->
        <main id="center-panel">
            <div id="noosphere-panel" class="panel active">
                <div id="noosphere-graph"></div>
            </div>
            <div id="refinement-panel" class="panel">
                <h2>Base Refinement Processes</h2>
                <div id="generators-list" class="upgrades-grid"></div>
            </div>
            <div id="synthesis-panel" class="panel">
                <h2>Synthesis Forge</h2>
                <div id="forge-interface">
                    <div class="forge-slots">
                        <div class="select-wrapper">
                            <select id="forge-slot-1" class="forge-select"><option value="">Select Idea...</option></select>
                        </div>
                        <span class="plus-icon">+</span>
                        <div class="select-wrapper">
                            <select id="forge-slot-2" class="forge-select"><option value="">Select Idea...</option></select>
                        </div>
                    </div>
                    <button id="combine-button" class="action-button">Synthesize</button>
                    <div id="combination-result"></div>
                    <h3>Discovered Recipes: (Click to load into forge)</h3>
                    <ul id="discovered-recipes-list"></ul>
                </div>
            </div>

            <div id="concepts-panel" class="panel">
                <h2>Discovered Concepts</h2>
                <div id="concepts-list" class="idea-list-panel"></div>
            </div>
            <div id="insights-panel" class="panel">
                <h2>Discovered Insights</h2>
                <div id="insights-list" class="idea-list-panel"></div>
                <div class="auto-crafter-section">
                    <h2>Insight Auto-Crafters</h2>
                    <div id="insight-crafters-list" class="upgrades-grid"></div>
                </div>
            </div>
            <div id="theories-panel" class="panel">
                <h2>Discovered Theories</h2>
                <div id="theories-list" class="idea-list-panel"></div>
                 <div class="auto-crafter-section">
                    <h2>Theory Auto-Crafters</h2>
                    <div id="theory-crafters-list" class="upgrades-grid"></div>
                </div>
            </div>
            <div id="paradigms-panel" class="panel">
                <h2>Discovered Paradigms</h2>
                <div id="paradigms-list" class="idea-list-panel"></div>
                 <div class="auto-crafter-section">
                    <h2>Paradigm Auto-Crafters</h2>
                    <div id="paradigm-crafters-list" class="upgrades-grid"></div>
                </div>
            </div>

            <div id="transcendence-panel" class="panel">
                <h2>Transcendence</h2>
                <p>Reach higher states of understanding. Reset your current intellectual construct for profound, permanent Wisdom.</p>
                <button id="transcend-button" class="action-button" disabled>Not Yet Wise Enough</button>
            </div>
            <div id="settings-panel" class="panel">
                <h2>Settings</h2>
                <p>Game settings and options will be available here.</p>
            </div>
        </main>

        <!-- Right Panel: Displays contextual details for selected items -->
        <aside id="right-panel">
            <div id="details-view">
                <h2>Selected Idea</h2>
                <div id="selected-idea-name">Nothing Selected</div>
                <div id="selected-idea-description">Click a node in the Noosphere or an item in your lists.</div>
                <div id="selected-idea-attributes"></div>
            </div>
             <div id="tooltip-container"></div>
        </aside>
    </div>

    <!-- Scripts (Order is important) -->
    <script type="text/javascript" src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>
    <script src="js/utils.js"></script>
    <script src="js/config/ideasData.js"></script>
    <script src="js/config/generatorsData.js"></script>
    <script src="js/config/craftersData.js"></script>
    <script src="js/tutorial.js"></script>
    <script src="js/gameState.js"></script>
    <script src="js/noosphere.js"></script>
    <script src="js/ui.js"></script>
    <script src="js/gameLogic.js"></script>
    <script src="js/main.js"></script>
</body>
</html>
